(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o){var i=e.likes,u=e.cardId,a=e.name,c=e.link,s=e.owner,l=n.handleCardClick,f=n.handleLikeClick,p=n.handleTrashClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._cardSelector=r,this._name=a,this._link=c,this._cardTemplate=document.querySelector(this._cardSelector),this._likes=i,this._cardId=u,this._ownerId=s._id,this._userId=o,this._handleCardClick=l,this._handleLikeClick=f,this._handleTrashClick=p}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return this._cardTemplate.content.querySelector(".grid-item").cloneNode(!0)}},{key:"deleteCard",value:function(){this._element.remove()}},{key:"handleLikeButton",value:function(){this._likeButton.classList.toggle("grid-item__like_active")}},{key:"_setEventListeners",value:function(){this._likeButton.addEventListener("click",this._handleLikeClick),this._trash.addEventListener("click",this._handleTrashClick),this._imageItem.addEventListener("click",this._handleCardClick)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._imageItem=this._element.querySelector(".grid-item__image"),this._trash=this._element.querySelector(".grid-item__trash"),this._likeButton=this._element.querySelector(".grid-item__like"),this._imageItem.alt=this._name,this._imageItem.src=this._link,this._element.querySelector(".grid-item__name").textContent=this._name,this._ownerId!==this._userId&&this._trash.remove(),this._likesCounter=this._element.querySelector(".grid-item__count"),this.renderLikes(),this.isCardLikedThisUser()&&this._likeButton.classList.add("grid-item__like_active"),this._setEventListeners(),this._element}},{key:"_isLiked",value:function(){return!!this._likeButton.classList.contains("grid-item__like_active")}},{key:"isCardLikedThisUser",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"renderLikes",value:function(){this._likesCounter.textContent=this._likes.length}},{key:"setCountLikes",value:function(e){this._likes=e}},{key:"getIdCard",value:function(){return this._cardId}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._config=t,this._inputsList=Array.from(n.querySelectorAll(this._config.inputSelector)),this._submitButton=this._form.querySelector(this._config.submitButtonSelector)}var t,r;return t=e,(r=[{key:"_showError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent=e.validationMessage,e.classList.add(this._config.inputErrorClass)}},{key:"_hideError",value:function(e){this._form.querySelector("#".concat(e.id,"-error")).textContent="",e.classList.remove(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e)}},{key:"_setButtonState",value:function(e){e?(this._submitButton.classList.remove(this._config.inactiveButtonClass),this._submitButton.disabled=!1):(this._submitButton.classList.add(this._config.inactiveButtonClass),this._submitButton.disabled=!0)}},{key:"_setEventListeners",value:function(){var e=this;this._inputsList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._setButtonState(e._form.checkValidity())}))}))}},{key:"cleanInputErrors",value:function(){var e=this;this._inputsList.forEach((function(t){e._hideError(t)})),this._setButtonState(this._form.checkValidity())}},{key:"enableValidation",value:function(){var e=this;this._setEventListeners(this._form),this._inputsList.forEach((function(t){e._hideError(t)})),this._setButtonState(this._form.checkValidity())}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this._container.prepend(e):this._container.append(e)}}])&&o(t.prototype,n),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._closeButton=this._popup.querySelector(".popup__btn-close"),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickOverlay=this._handleClickOverlay.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._closeButton.addEventListener("click",(function(){e.close()})),this._popup.addEventListener("mousedown",this._handleClickOverlay)}},{key:"_handleClickOverlay",value:function(e){e.target.classList.contains("popup")&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}}])&&u(t.prototype,n),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._popupImageLink=t._popup.querySelector(".popup__image"),t._popupImageName=t._popup.querySelector(".popup__img-title"),t}return t=u,(n=[{key:"open",value:function(e){this._popupImageLink.src=e.link,this._popupImageName.textContent=e.name,l(h(u.prototype),"open",this).call(this)}}])&&s(t.prototype,n),u}(a);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formSubmit=t,n._popupForm=n._popup.querySelector(".popup__form"),n._submitButton=n._popup.querySelector(".popup__button"),n._defaultButtonText=n._submitButton.textContent,n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupForm.querySelectorAll(".popup__input"),this._formData={},this._inputList.forEach((function(t){e._formData[t.name]=t.value})),this._formData}},{key:"close",value:function(){this._popupForm.reset(),m(k(u.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;m(k(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._getInputValues())}))}},{key:"getBtnText",value:function(){return this._submitButton.textContent}},{key:"setBtnText",value:function(e){this._submitButton.textContent=e}},{key:"setDefaultBtnText",value:function(){this._submitButton.textContent=this._defaultButtonText}}])&&y(t.prototype,n),u}(a);function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){var n=t.nameSelector,r=t.infoSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameProfile=document.querySelector(n),this._infoProfile=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{nameItem:this._nameProfile.textContent,infoItem:this._infoProfile.textContent}}},{key:"setUserInfo",value:function(e,t){this._nameProfile.textContent=e,this._infoProfile.textContent=t}},{key:"setAvatar",value:function(e){this._avatar.src=e}}])&&S(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=t.baseUrl,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"cards"),{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"_getResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"setUserInfo",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:t})}).then((function(e){return n._getResponse(e)}))}},{key:"setNewCard",value:function(e,t){var n=this;return fetch("".concat(this._baseUrl,"cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.value,link:t.value})}).then((function(e){return n._getResponse(e)}))}},{key:"setAvatar",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((function(e){return t._getResponse(e)}))}},{key:"removeCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponse(e)}))}}])&&w(t.prototype,n),e}();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(r);if(o){var n=q(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function u(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formSubmit=t,n._popupForm=n._popup.querySelector(".popup__form"),n._submitButton=n._popup.querySelector(".popup__button"),n._defaultButtonText=n._submitButton.textContent,n}return t=u,(n=[{key:"close",value:function(){T(q(u.prototype),"close",this).call(this)}},{key:"getBtnText",value:function(){return this._submitButton.textContent}},{key:"setBtnText",value:function(e){this._submitButton.textContent=e}},{key:"setDefaultBtnText",value:function(){this._submitButton.textContent=this._defaultButtonText}},{key:"open",value:function(e){this._item=e,T(q(u.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;T(q(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._formSubmit(e._item)}))}}])&&O(t.prototype,n),u}(a),P=document.querySelector(".popup__form_type_create"),j=(document.querySelector(".popup_add"),document.querySelector(".popup__input_add_name")),R=document.querySelector(".popup__input_add_link"),U=document.querySelector(".profile__edit-button"),D=document.querySelector(".popup__input_profile_name"),A=document.querySelector(".popup__input_profile_occupation"),V=document.querySelector(".profile__avatar"),N=(document.querySelector(".popup_profile"),document.querySelector(".profile__add-button")),F=document.querySelector(".profile__name"),J=document.querySelector(".profile__occupation"),H=document.querySelector(".popup__form_type_profile"),M=(document.querySelector(".popup_img"),document.querySelector(".popup__image"),document.querySelector(".popup__img-title"),document.querySelector(".popup_delete"),document.querySelector(".popup_avatar"),document.querySelector(".popup__input_avatar_link")),z=document.querySelector(".popup__form_type_avatar"),$=document.querySelector(".profile__edit-image"),G=(document.querySelectorAll(".popup__btn-close"),{formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_state_invalid"});function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=new r(G,H),W=new r(G,P),X=new r(G,z),Y=new C({nameSelector:".profile__name",infoSelector:".profile__occupation",avatarSelector:".profile__avatar"}),Z=new E({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-19/",headers:{authorization:"a19e97f8-e3c3-444b-acd8-2259e79e6607","Content-Type":"application/json"}});function ee(e){var n=new t({likes:e.likes,cardId:e._id,name:e.name,link:e.link,owner:e.owner},{handleCardClick:function(){ne.open(e)},handleLikeClick:function(){(n.isCardLikedThisUser()?Z.deleteLike(n.getIdCard()):Z.likeCard(n.getIdCard())).then((function(e){n.setCountLikes(e.likes),n.renderLikes(),n.handleLikeButton()})).catch((function(e){return console.log(e)}))},handleTrashClick:function(){re.open(n)}},"#card","b59a6ec5aff25fa0294bfaf3");return n.createCard()}Promise.all([Z.getUserInfo(),Z.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];F.textContent=o.name,J.textContent=o.about,V.src=o.avatar,te.renderItems(i)})).catch((function(e){return console.log(e)}));var te=new i({renderer:function(e){var t=ee(e);te.addItem(t)}},".grid-items"),ne=new _(".popup_img"),re=new x(".popup_delete",(function(e){!function(e){re.setBtnText("Удаление..."),Z.removeCard(e.getIdCard()).then((function(t){e.deleteCard(),re.close()})).finally((function(){setTimeout((function(){re.setDefaultBtnText()}),500)}))}(e)})),oe=new g(".popup_profile",(function(){var e={name:D.value,occupation:A.value};oe.setBtnText("Сохранение..."),Z.setUserInfo(e.name,e.occupation).then((function(e){Y.setUserInfo(e.name,e.about),oe.close()})).catch((function(e){return console.log(e)})).finally((function(){setTimeout((function(){oe.setDefaultBtnText()}),500)}))})),ie=new g(".popup_avatar",(function(){ie.setBtnText("Сохранение..."),Z.setAvatar(M.value).then((function(e){Y.setAvatar(e.avatar),ie.close()})).catch((function(e){return console.log(e)})).finally((function(){setTimeout((function(){ie.setDefaultBtnText()}),500)}))})),ue=new g(".popup_add",(function(){ue.setBtnText("Создание..."),Z.setNewCard(j,R).then((function(e){var t=ee(e);te.addItem(t,!0),ue.close()})).catch((function(e){return console.log(e)})).finally((function(){setTimeout((function(){ue.setDefaultBtnText()}),500)}))}));oe.setEventListeners(),ue.setEventListeners(),ne.setEventListeners(),re.setEventListeners(),ie.setEventListeners(),U.addEventListener("click",(function(){var e=Y.getUserInfo();D.value=e.nameItem,A.value=e.infoItem,Q.cleanInputErrors(),oe.open()})),N.addEventListener("click",(function(){P.reset(),W.cleanInputErrors(),ue.open()})),$.addEventListener("click",(function(){X.cleanInputErrors(),ie.open()})),Q.enableValidation(),W.enableValidation(),X.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJ1c2VySWQiLCJsaWtlcyIsImNhcmRJZCIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJoYW5kbGVUcmFzaENsaWNrIiwidGhpcyIsIl9jYXJkU2VsZWN0b3IiLCJfbmFtZSIsIl9saW5rIiwiX2NhcmRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9saWtlcyIsIl9jYXJkSWQiLCJfb3duZXJJZCIsIl9pZCIsIl91c2VySWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9oYW5kbGVUcmFzaENsaWNrIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwicmVtb3ZlIiwiX2xpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX3RyYXNoIiwiX2ltYWdlSXRlbSIsIl9nZXRUZW1wbGF0ZSIsImFsdCIsInNyYyIsInRleHRDb250ZW50IiwiX2xpa2VzQ291bnRlciIsInJlbmRlckxpa2VzIiwiaXNDYXJkTGlrZWRUaGlzVXNlciIsImFkZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImNvbnRhaW5zIiwic29tZSIsImxpa2UiLCJsZW5ndGgiLCJjb3VudCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2Zvcm0iLCJfY29uZmlnIiwiX2lucHV0c0xpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b24iLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0IiwiaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0RXJyb3JDbGFzcyIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsImlzQWN0aXZlIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiZm9yRWFjaCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfc2V0QnV0dG9uU3RhdGUiLCJjaGVja1ZhbGlkaXR5IiwiU2VjdGlvbiIsImNvbnRhaW5lciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJmbGFnIiwicHJlcGVuZCIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQ2xpY2tPdmVybGF5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwiZXZ0IiwidGFyZ2V0Iiwia2V5IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWFnZUxpbmsiLCJfcG9wdXBJbWFnZU5hbWUiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdCIsIl9mb3JtU3VibWl0IiwiX3BvcHVwRm9ybSIsIl9kZWZhdWx0QnV0dG9uVGV4dCIsIl9pbnB1dExpc3QiLCJfZm9ybURhdGEiLCJ2YWx1ZSIsInJlc2V0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJ0ZXh0IiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJpbmZvU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lUHJvZmlsZSIsIl9pbmZvUHJvZmlsZSIsIl9hdmF0YXIiLCJuYW1lSXRlbSIsImluZm9JdGVtIiwibmV3TmFtZSIsIm5ld0luZm8iLCJhdmF0YXIiLCJBcGkiLCJvcHRpb25zIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwiX2dldFJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsIm9jY3VwYXRpb24iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwicmVzcG9uc2UiLCJQb3B1cENvbmZpcm0iLCJfaXRlbSIsImZvcm1BZGQiLCJhZGRDYXJkTmFtZSIsImFkZENhcmRMaW5rIiwiYnRuRWRpdFByb2ZpbGUiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImJ0bkFkZENhcmQiLCJmb3JtUHJvZmlsZSIsImlucHV0QXZhdGFyTGluayIsImZvcm1BdmF0YXIiLCJwb3B1cEVkaXRBdmF0YXJCdXR0b24iLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUZvcm0iLCJhZGRGb3JtIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsInByb2ZpbGVVc2VySW5mbyIsImFwaSIsImF1dGhvcml6YXRpb24iLCJjcmVhdGVOZXdDYXJkIiwiZWwiLCJjYXJkIiwib2JqUG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwiZGVsZXRlTGlrZSIsImdldElkQ2FyZCIsImxpa2VDYXJkIiwiZGF0YSIsInNldENvdW50TGlrZXMiLCJoYW5kbGVMaWtlQnV0dG9uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY29uZmlybVBvcHVwIiwiY3JlYXRlQ2FyZCIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwidXNlciIsImNhcmRzIiwiYXJyYXlDYXJkcyIsInJlbmRlckl0ZW1zIiwiY2FyZEl0ZW0iLCJhZGRJdGVtIiwic2V0QnRuVGV4dCIsInJlbW92ZUNhcmQiLCJkZWxldGVDYXJkIiwiZmluYWxseSIsInNldFRpbWVvdXQiLCJzZXREZWZhdWx0QnRuVGV4dCIsImRlbGV0ZUZvcm1TdWJtaXQiLCJwcm9maWxlUG9wdXBXaXRoRm9ybSIsInVzZXJJbmZvIiwic2V0VXNlckluZm8iLCJhdmF0YXJQb3B1cFdpdGhGb3JtIiwic2V0QXZhdGFyIiwiY3JlYXRlUG9wdXBXaXRoRm9ybSIsInNldE5ld0NhcmQiLCJjYXJkRWxlbWVudCIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2xlYW5JbnB1dEVycm9ycyIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiI2TEFBcUJBLEUsV0FDbkIsZUFHRUMsRUFDQUMsR0FDQSxJQUpFQyxFQUlGLEVBSkVBLE1BQU9DLEVBSVQsRUFKU0EsT0FBUUMsRUFJakIsRUFKaUJBLEtBQU1DLEVBSXZCLEVBSnVCQSxLQUFNQyxFQUk3QixFQUo2QkEsTUFDM0JDLEVBR0YsRUFIRUEsZ0JBQWlCQyxFQUduQixFQUhtQkEsZ0JBQWlCQyxFQUdwQyxFQUhvQ0Esa0IsNEZBR3BDLFNBQ0FDLEtBQUtDLGNBQWdCWCxFQUNyQlUsS0FBS0UsTUFBUVIsRUFDYk0sS0FBS0csTUFBUVIsRUFDYkssS0FBS0ksY0FBZ0JDLFNBQVNDLGNBQWNOLEtBQUtDLGVBQ2pERCxLQUFLTyxPQUFTZixFQUNkUSxLQUFLUSxRQUFVZixFQUNmTyxLQUFLUyxTQUFXYixFQUFNYyxJQUN0QlYsS0FBS1csUUFBVXBCLEVBQ2ZTLEtBQUtZLGlCQUFtQmYs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U0FBQ0MsR0FDTGdDLEVBQWdCd0MsVUFBVXhFLEVBQUlULFFBQzlCZ0YsR0FBb0I5RyxXQUVyQnFGLE9BQU0sU0FBQ0MsR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixNQUMzQmlCLFNBQVEsV0FDUEMsWUFBVyxXQUNUTSxHQUFvQkwsc0JBQ25CLFdBNkJITyxHQUFzQixJQUFJekcsRUFBYyxjQWxCckIsV0FDdkJ5RyxHQUFvQlosV0FBVyxlQUMvQjVCLEVBQ0d5QyxXQUFXekQsRUFBYUMsR0FDeEJuQixNQUFLLFNBQUNDLEdBQ0wsSUFBTTJFLEVBQWN4QyxHQUFjbkMsR0FDbEN5RCxHQUFXRyxRQUFRZSxHQUFhLEdBQ2hDRixHQUFvQmhILFdBRXJCcUYsT0FBTSxTQUFDQyxHQUFELE9BQVNDLFFBQVFDLElBQUlGLE1BQzNCaUIsU0FBUSxXQUNQQyxZQUFXLFdBQ1RRLEdBQW9CUCxzQkFDbkIsV0EwQlRFLEdBQXFCUSxvQkFDckJILEdBQW9CRyxvQkFDcEJ0QyxHQUFrQnNDLG9CQUNsQjFCLEdBQWEwQixvQkFDYkwsR0FBb0JLLG9CQUNwQnpELEVBQWV6SCxpQkFBaUIsU0F4QmhDLFdBQ0UsSUFBTTZKLEVBQU92QixFQUFnQnFCLGNBQzdCakMsUUFBa0JtQyxFQUFLcEUsU0FDdkJrQyxRQUFpQmtDLEVBQUtuRSxTQUN0QnlDLEVBQVlnRCxtQkFDWlQsR0FBcUI3QixVQW9CdkJqQixFQUFXNUgsaUJBQWlCLFNBakI1QixXQUNFc0gsVUFDQWMsRUFBUStDLG1CQUNSSixHQUFvQmxDLFVBZXRCYixFQUFzQmhJLGlCQUFpQixTQVp2QyxXQUNFcUksRUFBb0I4QyxtQkFDcEJOLEdBQW9CaEMsVUFXdEJWLEVBQVlpRCxtQkFDWmhELEVBQVFnRCxtQkFDUi9DLEVBQW9CK0Msb0IiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbGlrZXMsIGNhcmRJZCwgbmFtZSwgbGluaywgb3duZXIgfSxcclxuICAgIHsgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVMaWtlQ2xpY2ssIGhhbmRsZVRyYXNoQ2xpY2sgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIHVzZXJJZFxyXG4gICkge1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXM7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBjYXJkSWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gb3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlVHJhc2hDbGljayA9IGhhbmRsZVRyYXNoQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX2NhcmRUZW1wbGF0ZS5jb250ZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC1pdGVtJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZ3JpZC1pdGVtX19saWtlX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUxpa2VDbGljayk7XHJcbiAgICB0aGlzLl90cmFzaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2spO1xyXG4gICAgdGhpcy5faW1hZ2VJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2FyZENsaWNrKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2ltYWdlSXRlbSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtaXRlbV9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3RyYXNoID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC1pdGVtX190cmFzaCcpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtaXRlbV9fbGlrZScpO1xyXG4gICAgdGhpcy5faW1hZ2VJdGVtLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9pbWFnZUl0ZW0uc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdyaWQtaXRlbV9fbmFtZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX3RyYXNoLnJlbW92ZSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZC1pdGVtX19jb3VudCcpO1xyXG4gICAgdGhpcy5yZW5kZXJMaWtlcygpO1xyXG4gICAgaWYgKHRoaXMuaXNDYXJkTGlrZWRUaGlzVXNlcigpKVxyXG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2dyaWQtaXRlbV9fbGlrZV9hY3RpdmUnKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9pc0xpa2VkKCkge1xyXG4gICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdncmlkLWl0ZW1fX2xpa2VfYWN0aXZlJykpXHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgaXNDYXJkTGlrZWRUaGlzVXNlcigpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiB7XHJcbiAgICAgIHJldHVybiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJMaWtlcygpIHtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHNldENvdW50TGlrZXMoY291bnQpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gY291bnQ7XHJcbiAgfVxyXG5cclxuICBnZXRJZENhcmQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZElkO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybSkge1xyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xyXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0ID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0Vycm9yKGlucHV0KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yLnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUVycm9yKGlucHV0KSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGVycm9yLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KSB7XHJcbiAgICAgICAgICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hvd0Vycm9yKGlucHV0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBfc2V0QnV0dG9uU3RhdGUoaXNBY3RpdmUpIHtcclxuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NldEJ1dHRvblN0YXRlKHRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYW5JbnB1dEVycm9ycygpIHtcclxuICAgICAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5fc2V0QnV0dG9uU3RhdGUodGhpcy5fZm9ybS5jaGVja1ZhbGlkaXR5KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnModGhpcy5fZm9ybSk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzTGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlRXJyb3IoaW5wdXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX3NldEJ1dHRvblN0YXRlKHRoaXMuX2Zvcm0uY2hlY2tWYWxpZGl0eSgpKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQsIGZsYWcgPSBmYWxzZSkge1xyXG4gICAgaWYgKGZsYWcpIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgZWxzZSB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J0bi1jbG9zZScpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5ID0gdGhpcy5faGFuZGxlQ2xpY2tPdmVybGF5LmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZUNsaWNrT3ZlcmxheSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ2xpY2tPdmVybGF5KGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZUxpbmsgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlTmFtZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nLXRpdGxlJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKGl0ZW0pIHtcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VMaW5rLnNyYyA9IGl0ZW0ubGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2VOYW1lLnRleHRDb250ZW50ID0gaXRlbS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgICB0aGlzLl9kZWZhdWx0QnV0dG9uVGV4dCA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9mb3JtRGF0YSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1EYXRhW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybURhdGE7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9mb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRCdG5UZXh0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICB9XHJcblxyXG4gIHNldEJ0blRleHQodGV4dCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIHNldERlZmF1bHRCdG5UZXh0KCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5fZGVmYXVsdEJ1dHRvblRleHQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2luZm9Qcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbmZvU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIGNvbnN0IG9iaiA9IHtcclxuICAgICAgbmFtZUl0ZW06IHRoaXMuX25hbWVQcm9maWxlLnRleHRDb250ZW50LFxyXG4gICAgICBpbmZvSXRlbTogdGhpcy5faW5mb1Byb2ZpbGUudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG9iajtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5ld05hbWUsIG5ld0luZm8pIHtcclxuICAgIHRoaXMuX25hbWVQcm9maWxlLnRleHRDb250ZW50ID0gbmV3TmFtZTtcclxuICAgIHRoaXMuX2luZm9Qcm9maWxlLnRleHRDb250ZW50ID0gbmV3SW5mbztcclxuICB9XHJcblxyXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH1jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0UmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHRoaXMuX2dldFJlc3BvbnNlKHJlcykpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8obmFtZSwgb2NjdXBhdGlvbikge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IG9jY3VwYXRpb24sXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHNldE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZS52YWx1ZSxcclxuICAgICAgICBsaW5rOiBsaW5rLnZhbHVlLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBzZXRBdmF0YXIobGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9dXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXMpKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoZWxlbWVudCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9Y2FyZHMvJHtlbGVtZW50fWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKSk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfWNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB0aGlzLl9nZXRSZXNwb25zZShyZXNwb25zZSkpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICAgIHRoaXMuX2RlZmF1bHRCdXR0b25UZXh0ID0gdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0QnRuVGV4dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBzZXRCdG5UZXh0KHRleHQpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG5cclxuICBzZXREZWZhdWx0QnRuVGV4dCgpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX2RlZmF1bHRCdXR0b25UZXh0O1xyXG4gIH1cclxuXHJcbiAgb3BlbihpdGVtKSB7XHJcbiAgICB0aGlzLl9pdGVtID0gaXRlbTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9mb3JtU3VibWl0KHRoaXMuX2l0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsIi8v0J/QvtC/0LDQvyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmV4cG9ydCBjb25zdCBmb3JtQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtX3R5cGVfY3JlYXRlJyk7XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXJkUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYWRkJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfYWRkX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF9hZGRfbGluaycpO1xyXG5cclxuLy/Qn9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuZXhwb3J0IGNvbnN0IGJ0bkVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3Byb2ZpbGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICcucG9wdXBfX2lucHV0X3Byb2ZpbGVfb2NjdXBhdGlvbidcclxuKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBidG5BZGRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgb2NjdXBhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19vY2N1cGF0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBmb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV90eXBlX3Byb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IHVzZXJJZCA9ICdiNTlhNmVjNWFmZjI1ZmEwMjk0YmZhZjMnO1xyXG5cclxuLy/Qn9C+0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5leHBvcnQgY29uc3QgaW1hZ2VQb3B1cFNlbGVjdG9yID0gJy5wb3B1cF9pbWcnO1xyXG5leHBvcnQgY29uc3QgaW1hZ2VQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9pbWcnKTtcclxuZXhwb3J0IGNvbnN0IGltYWdlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGltYWdlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nLXRpdGxlJyk7XHJcblxyXG4vL9Cf0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmV4cG9ydCBjb25zdCBwb3B1cENvbmZpcm1TZWxlY3RvciA9ICcucG9wdXBfZGVsZXRlJztcclxuZXhwb3J0IGNvbnN0IGNvbmZpcm1Qb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9kZWxldGUnKTtcclxuXHJcbi8v0J/QvtC/0LDQvyDQsNCy0LDRgtCw0YDQsFxyXG5leHBvcnQgY29uc3QgcG9wdXBBdmF0YXJTZWxlY3RvciA9ICcucG9wdXBfYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgaW5wdXRBdmF0YXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAnLnBvcHVwX19pbnB1dF9hdmF0YXJfbGluaydcclxuKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgJy5wcm9maWxlX19lZGl0LWltYWdlJ1xyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fYnRuLWNsb3NlJyk7XHJcbmV4cG9ydCBjb25zdCBjb250YWluZXIgPSAnLmdyaWQtaXRlbXMnO1xyXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkU2VsZWN0b3IgPSAnI2NhcmQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVTZWxlY3RvcnMgPSB7XHJcbiAgbmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX25hbWUnLFxyXG4gIGluZm9TZWxlY3RvcjogJy5wcm9maWxlX19vY2N1cGF0aW9uJyxcclxuICBhdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICB0aXRsZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgbGluazpcclxuICAgICAgJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiAn0KfQtdC70Y/QsdC40L3RgdC60LDRjyDQvtCx0LvQsNGB0YLRjCcsXHJcbiAgICBsaW5rOlxyXG4gICAgICAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2NoZWx5YWJpbnNrLW9ibGFzdC5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOlxyXG4gICAgICAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpdGxlOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICBsaW5rOlxyXG4gICAgICAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICfQpdC+0LvQvNC+0LPQvtGA0YHQutC40Lkg0YDQsNC50L7QvScsXHJcbiAgICBsaW5rOlxyXG4gICAgICAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2tob2xtb2dvcnNreS1yYXlvbi5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdGl0bGU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazpcclxuICAgICAgJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJyxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF9zdGF0ZV9pbnZhbGlkJyxcclxufTtcclxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IFBvcHVwQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyc7XHJcbmltcG9ydCB7XHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBidG5FZGl0UHJvZmlsZSxcclxuICBidG5BZGRDYXJkLFxyXG4gIGZvcm1Qcm9maWxlLFxyXG4gIGZvcm1BZGQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIG5hbWUsXHJcbiAgb2NjdXBhdGlvbixcclxuICBhdmF0YXIsXHJcbiAgcHJvZmlsZVNlbGVjdG9ycyxcclxuICBpbWFnZVBvcHVwU2VsZWN0b3IsXHJcbiAgdXNlcklkLFxyXG4gIHRlbXBsYXRlQ2FyZFNlbGVjdG9yLFxyXG4gIGNvbnRhaW5lcixcclxuICBpbnB1dEF2YXRhckxpbmssXHJcbiAgYWRkQ2FyZExpbmssXHJcbiAgYWRkQ2FyZE5hbWUsXHJcbiAgcG9wdXBFZGl0QXZhdGFyQnV0dG9uLFxyXG4gIGZvcm1BdmF0YXIsXHJcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybVByb2ZpbGUpO1xyXG5jb25zdCBhZGRGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUFkZCk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtQXZhdGFyKTtcclxuY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVTZWxlY3RvcnMpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMTkvJyxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnYTE5ZTk3ZjgtZTNjMy00NDRiLWFjZDgtMjI1OWU3OWU2NjA3JyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL9C00LvRjyDQv9GA0L7Qs9GA0YPQt9C60Lgg0YHRgtGA0LDQvdC40YbRiyDQsdC10Lcg0LvQuNGI0L3QuNGFIFwi0LTQtdGA0LPQsNC90LjQuVwiXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW3VzZXIsIGNhcmRzXSkgPT4ge1xyXG4gICAgbmFtZS50ZXh0Q29udGVudCA9IHVzZXIubmFtZTtcclxuICAgIG9jY3VwYXRpb24udGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xyXG4gICAgYXZhdGFyLnNyYyA9IHVzZXIuYXZhdGFyO1xyXG4gICAgYXJyYXlDYXJkcy5yZW5kZXJJdGVtcyhjYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcblxyXG4vL9GE0YPQvdC60YbQuNGPINGB0L7Qt9C00LDQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKGVsKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAge1xyXG4gICAgICBsaWtlczogZWwubGlrZXMsXHJcbiAgICAgIGNhcmRJZDogZWwuX2lkLFxyXG4gICAgICBuYW1lOiBlbC5uYW1lLFxyXG4gICAgICBsaW5rOiBlbC5saW5rLFxyXG4gICAgICBvd25lcjogZWwub3duZXIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBvYmpQb3B1cFdpdGhJbWFnZS5vcGVuKGVsKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlTGlrZUNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzQXBpID0gY2FyZC5pc0NhcmRMaWtlZFRoaXNVc2VyKClcclxuICAgICAgICAgID8gYXBpLmRlbGV0ZUxpa2UoY2FyZC5nZXRJZENhcmQoKSlcclxuICAgICAgICAgIDogYXBpLmxpa2VDYXJkKGNhcmQuZ2V0SWRDYXJkKCkpO1xyXG4gICAgICAgIHJlc0FwaVxyXG4gICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY2FyZC5zZXRDb3VudExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICAgICAgICBjYXJkLnJlbmRlckxpa2VzKCk7XHJcbiAgICAgICAgICAgIGNhcmQuaGFuZGxlTGlrZUJ1dHRvbigpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgfSxcclxuICAgICAgaGFuZGxlVHJhc2hDbGljazogKCkgPT4ge1xyXG4gICAgICAgIGNvbmZpcm1Qb3B1cC5vcGVuKGNhcmQpO1xyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlQ2FyZFNlbGVjdG9yLFxyXG4gICAgdXNlcklkXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XHJcbn1cclxuXHJcbmNvbnN0IGFycmF5Q2FyZHMgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgY2FyZEl0ZW0gPSBjcmVhdGVOZXdDYXJkKGl0ZW0pO1xyXG4gICAgICBhcnJheUNhcmRzLmFkZEl0ZW0oY2FyZEl0ZW0pO1xyXG4gICAgfSxcclxuICB9LFxyXG4gIGNvbnRhaW5lclxyXG4pO1xyXG5cclxuLy/Qv9C+0L/QsNC/INGBINC60LDRgNGC0LjQvdC60L7QuVxyXG5jb25zdCBvYmpQb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShpbWFnZVBvcHVwU2VsZWN0b3IpO1xyXG5cclxuLy/QvtCx0YDQsNCx0L7RgtGH0LjQuiDRhNC+0YDQvNGLINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBkZWxldGVGb3JtU3VibWl0ID0gKGNhcmQpID0+IHtcclxuICBjb25maXJtUG9wdXAuc2V0QnRuVGV4dCgn0KPQtNCw0LvQtdC90LjQtS4uLicpO1xyXG4gIGFwaVxyXG4gICAgLnJlbW92ZUNhcmQoY2FyZC5nZXRJZENhcmQoKSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XHJcbiAgICAgIGNvbmZpcm1Qb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgLy/Rh9GC0L7QsdGLINC40LfQsdC10LbQsNGC0Ywg0YDQsNC90L3QtdCz0L4g0L/QvtGP0LLQu9C10L3QuNGPINC90LDRh9Cw0LvRjNC90L7Qs9C+INGC0LXQutGB0YLQsCDQutC90L7Qv9C60LhcclxuICAgICAgLy/QuNCx0L4g0L/QvtC/0LDQvyDQt9Cw0LrRgNGL0LLQsNC10YLRgdGPINC/0LvQsNCy0L3QvlxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBjb25maXJtUG9wdXAuc2V0RGVmYXVsdEJ0blRleHQoKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy/Qv9C+0L/QsNC/INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuFxyXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtKCcucG9wdXBfZGVsZXRlJywgKGNhcmQpID0+IHtcclxuICBkZWxldGVGb3JtU3VibWl0KGNhcmQpO1xyXG59KTtcclxuXHJcbi8v0L7QsdGA0LDQsdC+0YLRh9C40Log0YTQvtGA0LzRiyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHByb2ZpbGVGb3JtU3VibWl0ID0gKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJJbmZvID0ge1xyXG4gICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxyXG4gICAgb2NjdXBhdGlvbjogam9iSW5wdXQudmFsdWUsXHJcbiAgfTtcclxuICBwcm9maWxlUG9wdXBXaXRoRm9ybS5zZXRCdG5UZXh0KCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xyXG4gIGFwaVxyXG4gICAgLnNldFVzZXJJbmZvKHVzZXJJbmZvLm5hbWUsIHVzZXJJbmZvLm9jY3VwYXRpb24pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyhyZXMubmFtZSwgcmVzLmFib3V0KTtcclxuICAgICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0uY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgcHJvZmlsZVBvcHVwV2l0aEZvcm0uc2V0RGVmYXVsdEJ0blRleHQoKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy/Qv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuY29uc3QgcHJvZmlsZVBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAnLnBvcHVwX3Byb2ZpbGUnLFxyXG4gIHByb2ZpbGVGb3JtU3VibWl0XHJcbik7XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGE0L7RgNC80Ysg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxyXG5jb25zdCBhdmF0YXJGb3JtU3VibWl0ID0gKCkgPT4ge1xyXG4gIGF2YXRhclBvcHVwV2l0aEZvcm0uc2V0QnRuVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICBhcGlcclxuICAgIC5zZXRBdmF0YXIoaW5wdXRBdmF0YXJMaW5rLnZhbHVlKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBwcm9maWxlVXNlckluZm8uc2V0QXZhdGFyKHJlcy5hdmF0YXIpO1xyXG4gICAgICBhdmF0YXJQb3B1cFdpdGhGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGF2YXRhclBvcHVwV2l0aEZvcm0uc2V0RGVmYXVsdEJ0blRleHQoKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy/Qv9C+0L/QsNC/INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcclxuY29uc3QgYXZhdGFyUG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICcucG9wdXBfYXZhdGFyJyxcclxuICBhdmF0YXJGb3JtU3VibWl0XHJcbik7XHJcblxyXG4vL9C+0LHRgNCw0LHQvtGC0YfQuNC6INGE0L7RgNC80Ysg0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZUZvcm1TdWJtaXQgPSAoKSA9PiB7XHJcbiAgY3JlYXRlUG9wdXBXaXRoRm9ybS5zZXRCdG5UZXh0KCfQodC+0LfQtNCw0L3QuNC1Li4uJyk7XHJcbiAgYXBpXHJcbiAgICAuc2V0TmV3Q2FyZChhZGRDYXJkTmFtZSwgYWRkQ2FyZExpbmspXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlTmV3Q2FyZChyZXMpO1xyXG4gICAgICBhcnJheUNhcmRzLmFkZEl0ZW0oY2FyZEVsZW1lbnQsIHRydWUpO1xyXG4gICAgICBjcmVhdGVQb3B1cFdpdGhGb3JtLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNyZWF0ZVBvcHVwV2l0aEZvcm0uc2V0RGVmYXVsdEJ0blRleHQoKTtcclxuICAgICAgfSwgNTAwKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy/Qv9C+0L/QsNC/INGB0L7Qt9C00LDQvdC40Y8g0L3QvtCy0L7QuSDQutCw0YDRgtC+0YfQutC4XHJcbmNvbnN0IGNyZWF0ZVBvcHVwV2l0aEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZCcsIGNyZWF0ZUZvcm1TdWJtaXQpO1xyXG5cclxuZnVuY3Rpb24gb3BlbkVkaXRQcm9maWxlUG9wdXAoKSB7XHJcbiAgY29uc3QgdXNlciA9IHByb2ZpbGVVc2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXIubmFtZUl0ZW07XHJcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyLmluZm9JdGVtO1xyXG4gIHByb2ZpbGVGb3JtLmNsZWFuSW5wdXRFcnJvcnMoKTtcclxuICBwcm9maWxlUG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5DcmVhdGVDYXJkUG9wdXAoKSB7XHJcbiAgZm9ybUFkZC5yZXNldCgpO1xyXG4gIGFkZEZvcm0uY2xlYW5JbnB1dEVycm9ycygpO1xyXG4gIGNyZWF0ZVBvcHVwV2l0aEZvcm0ub3BlbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuQXZhdGFyUG9wdXAoKSB7XHJcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5jbGVhbklucHV0RXJyb3JzKCk7XHJcbiAgYXZhdGFyUG9wdXBXaXRoRm9ybS5vcGVuKCk7XHJcbn1cclxuXHJcbnByb2ZpbGVQb3B1cFdpdGhGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmNyZWF0ZVBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxub2JqUG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY29uZmlybVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmF2YXRhclBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYnRuRWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdFByb2ZpbGVQb3B1cCk7XHJcbmJ0bkFkZENhcmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuQ3JlYXRlQ2FyZFBvcHVwKTtcclxucG9wdXBFZGl0QXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkF2YXRhclBvcHVwKTtcclxucHJvZmlsZUZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hZGRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=